(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{428:function(t,s,a){"use strict";a.r(s);var e=a(45),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"vuepress-建站速记"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vuepress-建站速记"}},[t._v("#")]),t._v(" VuePress 建站速记")]),t._v(" "),a("p",[t._v("持续写作已经有两年多了，19年年初再次折腾建立自己的站点，主要基于以下原因")]),t._v(" "),a("ol",[a("li",[t._v("和其他网站比起来，简书是比较清爽的，编辑器也非常好用，但推荐的文章层次太低，不符合程序员的气质")]),t._v(" "),a("li",[t._v("自己建站，但不想关注除了文章内容以外的事情，即写完 Markdown 文件，提交到 github 上，文章会自动展现到页面上——让写文章和写代码保持一致的流程，方便管理")])]),t._v(" "),a("p",[t._v("按照这个思路，我们可以把这个流程想的更具体点，例如我现在要写一篇文章，步骤是这样的：")]),t._v(" "),a("ol",[a("li",[t._v("打开自己喜欢的编辑器（例如 Typora ），打开本地存放文章的目录（Typora 中敲 "),a("code",[t._v("control + ⌘ + 3")]),t._v("），新建一个 Markdown 文件")]),t._v(" "),a("li",[t._v("开始写作")]),t._v(" "),a("li",[t._v("写完后，打开终端，执行 "),a("code",[t._v("git add")]),t._v(" -> "),a("code",[t._v("git commit")]),t._v(" -> "),a("code",[t._v("git push")]),t._v(" ，将文章提交到 github")]),t._v(" "),a("li",[t._v("远端的 ECS 发现 github 上具体的 repo 下有更新，便自动执行 "),a("code",[t._v("git pull")]),t._v(" 进行同步，并将 Markdown 文件渲染成静态页面，之后通过浏览器访问你的站点，就可以看到这篇文章了")])]),t._v(" "),a("p",[t._v("这种方法有一个非常好的地方，它将写作的行为和写代码的行为保持一致，都是在本地完成，然后通过 git 进行管理，且无需担心备份、迁移等问题，这有效的减少了额外能量的消耗，能让我更快的进入写作状态，于是就可以把这个事情长期做下去。")]),t._v(" "),a("p",[t._v("用 github 管理自己的文章已有一段时间，但一直没有动手搭建远程站点，直到无意中看到了 VuePress 这个开源的软件，它可以很容易将 Markdown 渲染成 html 页面，同时我被它的简洁和专为技术站点打造所吸引，决定花点时间尝试一下。")]),t._v(" "),a("p",[t._v("大概折腾了一天，就把自己想要的效果实现了，如果不踩坑，可能不需要这么久。网上介绍 VuePress 的文章已经很详细了，这里就不重复了，有兴趣的同学可以查看文章最后的参考链接。")]),t._v(" "),a("p",[t._v("这里我简单讲下作为一个不懂前端的同学，我有哪些疑惑、它们是如何解除的；以及自己踩了什么坑、怎么爬出来的。")]),t._v(" "),a("p",[t._v("在使用 VuePress 中，我最大的疑惑是如何成功添加一个 Markdown 插件，它的步骤是什么，怎么知道引入的插件是否生效。经过了一番尝试后，总结为 3 个步骤（意味着你脑海中的额外的想法都是多余的）：")]),t._v(" "),a("ol",[a("li",[t._v("安装插件")]),t._v(" "),a("li",[t._v("将插件添加到配置中")]),t._v(" "),a("li",[t._v("重新构建："),a("code",[t._v("yarn docs:build")])])]),t._v(" "),a("p",[t._v("拿数学公式插件 "),a("code",[t._v("markdown-it-katex")]),t._v(" 作为例子，首先通过以下命令安装该插件")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$ yarn add markdown-it-katex\n")])])]),a("p",[t._v("修改 "),a("code",[t._v(".vuepress/config.js")]),t._v("  下的配置，添加一行 "),a("code",[t._v('md.use(require("markdown-it-katex"))')]),t._v("，如下：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  markdown"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("config")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("md")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      md"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("html"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      md"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"markdown-it-katex"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("构建后，一般的插件安装到此就完成了，对于 "),a("code",[t._v("markdown-it-katex")]),t._v(" 来说，你还需要修改 "),a("code",[t._v("head")]),t._v(" 项，依旧是 "),a("code",[t._v(".vuepress/config.js")]),t._v(" 文件，在 "),a("code",[t._v("head")]),t._v(" 中添加如下两行：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  head"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'link'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" rel"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stylesheet'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" href"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'link'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" rel"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stylesheet"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" href"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.10.0/github-markdown.min.css"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("大功告成，现在 VuePress 可以识别出你文章中的数学公式了，如下所示：")]),t._v(" "),a("p",[a("span",{staticClass:"katex-display"},[a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",[a("semantics",[a("mrow",[a("mi",[t._v("z")]),a("mo",[t._v("=")]),a("msqrt",[a("mrow",[a("msup",[a("mi",[t._v("x")]),a("mn",[t._v("2")])],1),a("mo",[t._v("+")]),a("msup",[a("mi",[t._v("y")]),a("mn",[t._v("2")])],1)],1)],1)],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("z = \\sqrt{x^2 + y^2}\n")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"strut",staticStyle:{height:"1.006714em"}}),a("span",{staticClass:"strut bottom",staticStyle:{height:"1.24001em","vertical-align":"-0.2332959999999999em"}}),a("span",{staticClass:"base displaystyle textstyle uncramped"},[a("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),a("span",{staticClass:"mrel"},[t._v("=")]),a("span",{staticClass:"sqrt mord"},[a("span",{staticClass:"sqrt-sign",staticStyle:{top:"-0.1167140000000001em"}},[a("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped"},[a("span",{staticClass:"delimsizing size1"},[t._v("√")])])]),a("span",{staticClass:"vlist"},[a("span",{staticStyle:{top:"0em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),a("span",{staticClass:"mord displaystyle textstyle cramped"},[a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathit"},[t._v("x")]),a("span",{staticClass:"vlist"},[a("span",{staticStyle:{top:"-0.289em","margin-right":"0.05em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),a("span",{staticClass:"reset-textstyle scriptstyle cramped"},[a("span",{staticClass:"mord mathrm"},[t._v("2")])])]),a("span",{staticClass:"baseline-fix"},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),a("span",{staticClass:"mbin"},[t._v("+")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),a("span",{staticClass:"vlist"},[a("span",{staticStyle:{top:"-0.289em","margin-right":"0.05em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),a("span",{staticClass:"reset-textstyle scriptstyle cramped"},[a("span",{staticClass:"mord mathrm"},[t._v("2")])])]),a("span",{staticClass:"baseline-fix"},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])]),a("span",{staticStyle:{top:"-0.926714em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),a("span",{staticClass:"reset-textstyle textstyle uncramped sqrt-line"})]),a("span",{staticClass:"baseline-fix"},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),t._v("​")])])])])])])])]),t._v(" "),a("p",[t._v("最后，说下自己的采坑经历，我在修改完以上配置后，发现文章中的数学公式还是不能正常显示，于是各种 google、global 安装等，最后发现是自己写错了配置：把配置中的 "),a("code",[t._v("markdown")]),t._v(" 对象写到 "),a("code",[t._v("themeConfig")]),t._v(" 中了，如下")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n  themeConfig"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    markdown"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("这种错很难发现，花了不少时间，希望写出来，能帮犯同样错误的同学节省时间。")]),t._v(" "),a("p",[t._v("参考：")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://vuepress.vuejs.org/guide/markdown.html#import-code-snippets",target:"_blank",rel:"noopener noreferrer"}},[t._v("VuePress官网文档"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.unaxu.com/blog/posts/005-one-how-to-generate-static-blog-with-vuepress.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("如何使用 VuePress 编写静态博客"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/36116211",target:"_blank",rel:"noopener noreferrer"}},[t._v("VuePress 快速踩坑"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://segmentfault.com/a/1190000016333850",target:"_blank",rel:"noopener noreferrer"}},[t._v("VuePress 手摸手教你搭建一个类Vue文档风格的技术文档/博客"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=n.exports}}]);