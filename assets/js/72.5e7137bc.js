(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{426:function(s,t,a){"use strict";a.r(t);var e=a(45),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"vscode-远程开发插件快速使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vscode-远程开发插件快速使用"}},[s._v("#")]),s._v(" VSCode 远程开发插件快速使用")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://github.com/jieniu/articles/blob/master/docs/.vuepress/public/architecture-ssh.png?raw=true",alt:""}})]),s._v(" "),a("p",[s._v("今天试用了一下 VSCode 的新插件：远程开发插件，体验很不错，它可以：")]),s._v(" "),a("ol",[a("li",[s._v("让你在本地打开远程开发机上的代码，并提供和本地一样的开发体验")]),s._v(" "),a("li",[s._v("在 VSCode 中打开远程的终端")]),s._v(" "),a("li",[s._v("在不同远程开发机上配置不同的插件，把插件装在远程的目的是让操作更流畅")]),s._v(" "),a("li",[s._v("你还可以在本地调试远程代码：断点、单步等一样都不会少")]),s._v(" "),a("li",[s._v("支持 "),a("a",{attrs:{href:"https://www.ssh.com/ssh/tunneling/example",target:"_blank",rel:"noopener noreferrer"}},[s._v("SSH 隧道 (SSH Tunnel)"),a("OutboundLink")],1),s._v(" 的连接方式，这样你便可以在家里调试公司电脑上的代码了。")]),s._v(" "),a("li",[s._v("……")])]),s._v(" "),a("p",[s._v("本文将以 SSH 连接的方式，做一个入门介绍，更多高级功能还需你在使用过程中慢慢发掘。")]),s._v(" "),a("h2",{attrs:{id:"配置步骤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置步骤"}},[s._v("#")]),s._v(" 配置步骤")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("在 VSCode 扩展栏中搜索 "),a("code",[s._v("Remote - SSH")]),s._v(" 插件，点击安装")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://github.com/jieniu/articles/blob/master/docs/.vuepress/public/image-20190606233135823.png?raw=true",alt:"image-20190606233135823"}})])]),s._v(" "),a("li",[a("p",[s._v("使用 "),a("code",[s._v("ssh-keygen")]),s._v(" 工具在本机创建 ssh 秘钥，创建时一路回车即可 (注意：Remote-SSH 插件不支持输入账号密码的连接方式，首选的登录方式为"),a("a",{attrs:{href:"https://www.ssh.com/ssh/public-key-authentication",target:"_blank",rel:"noopener noreferrer"}},[s._v("使用非对称秘钥登录"),a("OutboundLink")],1),s._v(")")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ ssh-keygen\nEnter "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" to save the key "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("/Users/fengyajie/.ssh/id_rsa"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": \nEnter passphrase "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("empty "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" no passphrase"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\nEnter same passphrase again:\nYour identification has been saved "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" /Users/fengyajie/.ssh/id_rsa.\nYour public key has been saved "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" /Users/fengyajie/.ssh/id_rsa.pub.\nThe key fingerprint is:\nThe key's randomart image is:\n+---"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("RSA "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2048")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("----+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("      .oo*++.+o++"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("       +o Oo+ + +"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" o+ o   o "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(" o "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" +o "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("o o o "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" S+       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(".o "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("+.E   "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("o")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(".+ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("."),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+----"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("SHA256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("-----+\n")])])])]),s._v(" "),a("li",[a("p",[s._v("将产生好的公钥发送到远端（使用 "),a("code",[s._v("ssh-copy-id")]),s._v(" 工具），你需要将下面的 "),a("code",[s._v("user@your_remote_host")]),s._v(" 修改为你开发机的用户名和主机名")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ ssh-copy-id -i ~/.ssh/id_rsa.pub user@your_remote_host\nusr/bin/ssh-copy-id: INFO: Source of key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" to be installed: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/Users/fengyajie/.ssh/id_rsa.pub"')]),s._v("\n/usr/bin/ssh-copy-id: INFO: attempting to log "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" with the new key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", to filter out any that are already installed\n/usr/bin/ssh-copy-id: INFO: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" remain to be installed -- "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" you are prompted now it is to "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" the new keys\n\nNumber of key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" added:        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\nNow try logging into the machine, with:   "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"ssh 'user@your_remote_host'\"")]),s._v("\nand check to "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" sure that only the key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" you wanted were added.\n")])])])]),s._v(" "),a("li",[a("p",[s._v("试一下连接，正常情况下你现在就可以直接登录到远端机器了")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'user@your_remote_host'")]),s._v("\nWelcome to Alibaba Cloud Elastic Compute Service "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\nLast login: Thu Jun  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(":32:13 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" from "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$local_ip")]),s._v("\nroot@iZwz946zuZ:~"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])])])])]),s._v(" "),a("h2",{attrs:{id:"连接远端机器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#连接远端机器"}},[s._v("#")]),s._v(" 连接远端机器")]),s._v(" "),a("p",[s._v("上面配置完成后，你就可以使用 VSCode 连接到远端机器了，打开 VSCode，敲入 "),a("code",[s._v("F1")]),s._v(" 键，输入 "),a("code",[s._v("Remote-SSH:Connect to Host")]),s._v("，回车")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://github.com/jieniu/articles/blob/master/docs/.vuepress/public/image-20190606234544034.png?raw=true",alt:"image-20190606234544034"}})]),s._v(" "),a("p",[s._v("接着输入你刚才配置好的 "),a("code",[s._v("user@your_remote_host")]),s._v("，回车")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://github.com/jieniu/articles/blob/master/docs/.vuepress/public/image-20190606234722725.png?raw=true",alt:"image-20190606234722725"}})]),s._v(" "),a("p",[s._v("此时 VSCode 会打开一个新的窗口，在这个窗口的左下角，你会观察到一个绿色的 SSH 状态条，表示此时你的 VSCode 已经连上了远程的开发机，如下")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://github.com/jieniu/articles/blob/master/docs/.vuepress/public/image-20190606235035247.png?raw=true",alt:"image-20190606235035247"}})]),s._v(" "),a("p",[s._v("接下来，你就可以打开左上角的文件管理侧边栏，点击 "),a("code",[s._v("Open Folder")]),s._v("，此时你会惊讶的发现，远端的 "),a("code",[s._v("home")]),s._v(" 目录被列出来了：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://github.com/jieniu/articles/blob/master/docs/.vuepress/public/image-20190606235406685.png?raw=true",alt:"image-20190606235406685"}})]),s._v(" "),a("p",[s._v("至此，你已经在本地开启了一个「远端开发环境」，接下来你的开发任务再也不受远程环境的限制了，能有这样的体验，还是要感谢一下微软公司的贡献，真的是一款良心之作。")]),s._v(" "),a("p",[s._v("以上仅只是入门介绍，可以让你快速的把这个插件用起来，更多高级功能，还是建议你去阅读"),a("a",{attrs:{href:"https://code.visualstudio.com/docs/remote/ssh",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方文档"),a("OutboundLink")],1),s._v("中的内容。")]),s._v(" "),a("p",[s._v("参考：")]),s._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"https://code.visualstudio.com/docs/remote/ssh",target:"_blank",rel:"noopener noreferrer"}},[s._v("Remote Development using SSH"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://www.ssh.com/ssh/tunneling/example",target:"_blank",rel:"noopener noreferrer"}},[s._v("SSH PORT FORWARDING EXAMPLE"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://www.ssh.com/ssh/public-key-authentication",target:"_blank",rel:"noopener noreferrer"}},[s._v("PUBLIC KEY AUTHENTICATION FOR SSH"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=n.exports}}]);